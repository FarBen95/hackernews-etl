

version: '3'

vars:
  GREETING: Hello, world!

tasks:
  default:
    desc: Print a greeting message
    cmds:
      - echo "{{.GREETING}}"
    silent: true

  plan:
    desc: Run terraform plan
    cmds:
      - terraform -chdir=terraform plan
  apply:
    desc: Run terraform apply
    cmds:
      - terraform -chdir=terraform apply -auto-approve 
  destroy:
    desc: Run terraform destroy
    cmds:
      - terraform -chdir=terraform destroy 

  test:
    desc: Run all Python tests with pytest
    cmds:
      - pytest -v
    silent: false
  
